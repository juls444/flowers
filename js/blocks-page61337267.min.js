window.isMobile = !1;
if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
    window.isMobile = !0
}

function t_throttle(fn, threshhold, scope) {
    var last;
    var deferTimer;
    threshhold || (threshhold = 250);
    return function () {
        var context = scope || this;
        var now = +new Date();
        var args = arguments;
        if (last && now < last + threshhold) {
            clearTimeout(deferTimer);
            deferTimer = setTimeout(function () {
                last = now;
                fn.apply(context, args)
            }, threshhold)
        } else {
            last = now;
            fn.apply(context, args)
        }
    }
}

function t456_setListMagin(recid, imglogo) {
    var rec = document.getElementById('rec' + recid);
    if (!rec || window.innerWidth <= 980) return;
    var menu = rec.querySelector('.t456');
    var leftSide = menu ? menu.querySelector('.t456__leftwrapper') : null;
    var list = menu ? menu.querySelector('.t456__list') : null;
    var leftSideWidth = leftSide ? leftSide.offsetWidth : 0;
    if (list) list.style.marginRight = (imglogo ? leftSideWidth : leftSideWidth + 30) + 'px'
}

function t858_init(recId) {
    var rec = document.getElementById('rec' + recId);
    if (!rec) return;
    var wrapper = rec.querySelector('.t858');
    if (!wrapper) return;
    t_onFuncLoad('t_card__moveClickOnCard', function () {
        t_card__moveClickOnCard(recId)
    });
    t_onFuncLoad('t_card__addFocusOnTab', function () {
        t_card__addFocusOnTab(recId)
    });
    t858_unifyHeights(recId);
    window.addEventListener('resize', t_throttle(function () {
        if (window.noAdaptive && window.noAdaptive === !0 && window.isMobile) return;
        t858_unifyHeights(recId)
    }));
    window.addEventListener('load', function () {
        t858_unifyHeights(recId)
    });
    if (typeof jQuery !== 'undefined') {
        $(wrapper).on('displayChanged', function () {
            t858_unifyHeights(recId)
        })
    } else {
        wrapper.addEventListener('displayChanged', function () {
            t858_unifyHeights(recId)
        })
    }
    if (wrapper.classList.contains('t858__previewmode')) {
        setInterval(function () {
            t858_unifyHeights(recId)
        }, 5000)
    }
}

function t858_unifyHeights(recId) {
    var rec = document.getElementById('rec' + recId);
    if (!rec) return;
    var wrapper = rec.querySelector('.t858');
    if (!wrapper) return;
    var container = rec.querySelector('.t858__container');
    var columnsInRow = Number(container.getAttribute('data-columns-in-row'));
    if (columnsInRow === 0 || columnsInRow === '') {
        columnsInRow = 1
    }
    var allCols = Array.prototype.slice.call(rec.querySelectorAll('.t858__col'));
    var rowsArray = [];
    for (var i = 0; i < allCols.length; i += columnsInRow) {
        rowsArray.push(allCols.slice(i, i + columnsInRow))
    }
    if (window.innerWidth >= 960) {
        for (var i = 0; i < rowsArray.length; i++) {
            var row = rowsArray[i];
            var maxHeight = 0;
            var innerCols = [];
            for (var j = 0; j < row.length; j++) {
                innerCols.push(row[j].querySelector('.t858__inner-col'))
            }
            for (var j = 0; j < innerCols.length; j++) {
                var col = innerCols[j];
                var colWrap = col.querySelector('.t858__wrap');
                var colHeight = colWrap.offsetHeight;
                if (colHeight > maxHeight) maxHeight = colHeight
            }
            for (var j = 0; j < innerCols.length; j++) {
                if (innerCols[j]) innerCols[j].style.height = maxHeight + 'px'
            }
        }
    } else {
        var innerCols = rec.querySelectorAll('.t858__inner-col');
        for (var i = 0; i < innerCols.length; i++) {
            if (innerCols[i]) innerCols[i].style.height = 'auto'
        }
    }
}

function t846_init(recId) {
    t_onFuncLoad('t_card__moveClickOnCard', function () {
        t_card__moveClickOnCard(recId)
    });
    t_onFuncLoad('t_card__addFocusOnTab', function () {
        t_card__addFocusOnTab(recId)
    })
}

function t718_onSuccess(form) {
    form = form[0] ? form[0] : form;
    if (!form) return;
    if (form.tagName && form.tagName.toLowerCase() === 'input') {
        form = form.closest('.t-form')
    }
    var inputsWrapper = form.querySelector('.t-form__inputsbox');
    if (!inputsWrapper) return;
    var paddingTopInputs = parseInt(inputsWrapper.style.paddingTop, 10) || 0;
    var paddingBottomInputs = parseInt(inputsWrapper.style.paddingBottom, 10) || 0;
    var inputsHeight = inputsWrapper.clientHeight - (paddingTopInputs + paddingBottomInputs);
    var inputsOffset = inputsWrapper.getBoundingClientRect().top + window.pageYOffset;
    var inputsBottom = inputsHeight + inputsOffset;
    var targetOffset = form.querySelector('.t-form__successbox').getBoundingClientRect().top + window.pageYOffset;
    var target = null;
    if (window.innerWidth > 960) {
        target = targetOffset - 200
    } else {
        target = targetOffset - 100
    }
    var documentHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight);
    if (targetOffset > window.pageYOffset || documentHeight - inputsBottom < window.innerHeight - 100) {
        inputsWrapper.classList.add('t718__inputsbox_hidden');
        var body = document.body;
        var paddingTopBody = parseInt(body.style.paddingTop, 10) || 0;
        var paddingBottomBody = parseInt(body.style.paddingBottom, 10) || 0;
        var bodyHeight = body.clientHeight - (paddingTopBody + paddingBottomBody);
        // setTimeout(function () {
        //     if (window.innerHeight > bodyHeight) {
        //         setTimeout(function () {
        //             var tildaLabel = document.querySelector('.t-tildalabel');
        //             if (!tildaLabel) return;
        //             t718__fadeOut(tildaLabel)
        //         }, 50)
        //     }
        // }, 300)
    } else {
        t718_scrollToTop(target);
        setTimeout(function () {
            inputsWrapper.classList.add('t718__inputsbox_hidden')
        }, 400)
    }
    var successUrl = form.getAttribute('data-success-url');
    if (successUrl) {
        setTimeout(function () {
            window.location.href = successUrl
        }, 500)
    }
}

function t718_scrollToTop(target) {
    if (target === window.pageYOffset) {
        return !1
    }
    var duration = 400;
    var difference = window.pageYOffset;
    var cashedDiff = window.pageYOffset;
    var step = (Math.abs(window.pageYOffset - target) * 10) / duration;
    var scrollInterval = setInterval(function () {
        if (cashedDiff > target) {
            difference -= step
        } else {
            difference += step
        }
        window.scrollTo(0, difference);
        document.body.setAttribute('data-scrollable', 'true');
        if (cashedDiff > target && window.pageYOffset <= target) {
            document.body.removeAttribute('data-scrollable');
            clearInterval(scrollInterval)
        } else if (cashedDiff <= target && window.pageYOffset >= target) {
            document.body.removeAttribute('data-scrollable');
            window.scrollTo(0, target);
            clearInterval(scrollInterval)
        }
    }, 10);
    var scrollTimeout = setTimeout(function () {
        clearInterval(scrollInterval);
        document.body.removeAttribute('data-scrollable');
        clearTimeout(scrollTimeout)
    }, duration * 2)
}

function t718__fadeOut(element) {
    if (element.style.display === 'none') return;
    var opacity = 1;
    var timer = setInterval(function () {
        element.style.opacity = opacity;
        opacity -= 0.1;
        if (opacity <= 0.1) {
            clearInterval(timer);
            element.style.display = 'none';
            element.style.opacity = null
        }
    }, 50)
}

function t433_init(recid) {
    var rec = document.querySelector('#rec' + recid);
    if (!rec) return;
    var separateMap = document.querySelector('#separateMap' + recid);
    if (separateMap) separateMap.style.height = 'auto';
    t433_setMapHeight(recid);
    var mapWrapper = rec.querySelector('.t433');
    if (!mapWrapper) return;
    mapWrapper.addEventListener('displayChanged', function () {
        t433_setMapHeight(recid)
    });
    window.addEventListener('resize', t_throttle(function () {
        t433_setMapHeight(recid)
    }))
}

function t433_setMapHeight(recid) {
    var rec = document.querySelector('#rec' + recid);
    if (!rec) return;
    var mapElement = rec.querySelector('.t-map');
    var textElement = rec.querySelector('.t433__col_text');
    if (!mapElement || !textElement) return;
    var paddingTop = parseInt(textElement.style.paddingTop, 10) || 0;
    var paddingBottom = parseInt(textElement.style.paddingBottom, 10) || 0;
    var textHeight = textElement.clientHeight - (paddingTop + paddingBottom);
    mapElement.style.height = textHeight + 'px';
    var event = document.createEvent('HTMLEvents');
    event.initEvent('sizechange', !0, !1);
    mapElement.dispatchEvent(event)
}

function t389_scrollToTop() {
    var duration = 700;
    var difference = window.pageYOffset;
    var step = 10 * difference / duration;
    var timer = setInterval(function () {
        difference -= step;
        window.scrollTo(0, difference);
        document.body.setAttribute('data-scrollable', 'true');
        if (window.pageYOffset === 0) {
            document.body.removeAttribute('data-scrollable');
            clearInterval(timer)
        }
    }, 10)
}

function t602_init(recid) {
    var rec = document.getElementById('rec' + recid);
    if (!rec) return;
    var indicator = rec.querySelector('.t602__indicator');
    if (!indicator) return;
    window.addEventListener('scroll', t_throttle(function () {
        var documentHeight = document.body.clientHeight;
        var windowScrollTop = document.documentElement.scrollTop;
        var windowHeight = window.innerHeight;
        var scrollPercent = (windowScrollTop / (documentHeight - windowHeight)) * 100;
        indicator.style.width = scrollPercent + '%'
    }, 100))
}
window.requestAnimationFrame = (function () {
    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
        window.setTimeout(callback, 1000 / 60)
    }
})();

function t270_scroll(hash, offset) {
    if (!hash) return;
    t270_checkLoad(hash, offset);
    var excludeHashes = ['#!/tproduct/', '#!/tab/', '#opencart']
    if (excludeHashes.includes(hash)) {
        return !0
    }
    var isHistoryChangeAllowed = window.location.hash !== hash;
    var wrapperBlock = document.querySelector('.t270');
    var dontChangeHistory = wrapperBlock ? Boolean(wrapperBlock.getAttribute('data-history-disabled')) : !1;
    t270_scrollToEl(hash, offset);
    if (!dontChangeHistory && isHistoryChangeAllowed) {
        if (history.pushState) {
            history.pushState(null, null, hash)
        } else {
            window.location.hash = hash
        }
        isHistoryChangeAllowed = !1
    }
    return !0
}

function t270_checkLoad(hash, offset) {
    if (window.t270_loadChecked) return;
    var sliderWrappers = document.body.querySelectorAll('.t-slds__items-wrapper');
    if (!sliderWrappers.length) return;
    var lastWrapper = sliderWrappers[sliderWrappers.length - 1];
    var sliderImgs = lastWrapper ? lastWrapper.querySelectorAll('.t-slds__bgimg') : [];
    var lastImg = sliderImgs[sliderImgs.length - 1];
    var imageUrl = lastImg ? window.getComputedStyle(lastImg).backgroundImage : '';
    imageUrl = imageUrl.substring(5, imageUrl.length - 2);
    var preloaderImg = document.createElement('img');
    preloaderImg.src = imageUrl ? imageUrl : '';
    preloaderImg.addEventListener('load', function () {
        t270_scroll(hash, offset);
        window.t270_loadChecked = !0
    })
}

function t270_scrollToEl(hash, offset) {
    var SCROLL_DURATION_MS = 500;
    var body = document.body;
    if (body.getAttribute('data-scroll')) return;
    var scrollTargetY = t270_getTarget(hash, offset);
    if (isNaN(scrollTargetY)) return;
    var canSmoothScroll = window.CSS && window.CSS.supports('scroll-behavior', 'smooth') && 'scrollBehavior' in document.documentElement.style;
    var userAgent = navigator.userAgent.toLowerCase();
    var isAndroid = userAgent.indexOf('android') !== -1;
    if (window.isMobile && !isAndroid && canSmoothScroll) {
        body.setAttribute('data-scroll', 'true');
        window.scrollTo({
            left: 0,
            top: scrollTargetY,
            behavior: 'smooth'
        });
        setTimeout(function () {
            body.removeAttribute('data-scroll')
        }, SCROLL_DURATION_MS)
    } else {
        t270_smoothScrollTo(scrollTargetY, SCROLL_DURATION_MS)
    }
}

function t270_smoothScrollTo(targetY, duration = 500) {
    var body = document.body;
    var startY = window.scrollY || window.pageYOffset;
    var deltaY = targetY - startY;
    var startTime = performance.now();

    function easeInOutQuad(t) {
        return Math.pow(t, 2)
    }

    function scroll() {
        var currentTime = performance.now();
        var elapsedTime = Math.min((currentTime - startTime) / duration, 1);
        var ease = easeInOutQuad(elapsedTime);
        window.scrollTo(0, startY + deltaY * ease);
        if (elapsedTime < 1) {
            requestAnimationFrame(scroll)
        } else {
            body.removeAttribute('data-scroll');
            body.removeAttribute('data-scrollable');
            window.scrollTo(0, targetY)
        }
    }
    body.setAttribute('data-scroll', 'true');
    body.setAttribute('data-scrollable', 'true');
    requestAnimationFrame(scroll)
}

function t270_getTarget(hash, offset) {
    var target;
    try {
        if (hash.substring(0, 1) === '#') {
            target = document.getElementById(hash.substring(1))
        } else {
            target = document.querySelector(hash)
        }
    } catch (event) {
        console.log('Exception t270: ' + event.message);
        return
    }
    if (!target) {
        target = document.querySelector('a[name="' + hash.substr(1) + '"], div[id="' + hash.substr(1) + '"]');
        if (!target) return
    }
    target = parseInt((target.getBoundingClientRect().top + window.pageYOffset) - offset, 10);
    target = Math.max(target, 0);
    return target
}